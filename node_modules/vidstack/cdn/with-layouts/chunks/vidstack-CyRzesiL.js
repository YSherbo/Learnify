import{a6 as n,k as i,ag as m,i as a}from"./vidstack-CfWjVwmq.js";const l=navigator?.userAgent.toLowerCase()||"",c=/iphone|ipad|ipod|ios|crios|fxios/i.test(l),f=/(iphone|ipod)/gi.test(navigator?.platform||""),w=!!window.chrome,g=!!window.safari||c;function v(){return E()&&n(screen.orientation.unlock)}function E(){return!i(window.screen.orientation)&&!i(window.screen.orientation.lock)}function y(e,t){return e||(e=document.createElement("audio")),e.canPlayType(t).length>0}function I(e,t){return e||(e=document.createElement("video")),e.canPlayType(t).length>0}function u(e){return e||(e=document.createElement("video")),e.canPlayType("application/vnd.apple.mpegurl").length>0}function b(e){return!!document.pictureInPictureEnabled&&!e?.disablePictureInPicture}function P(e){return n(e?.webkitSupportsPresentationMode)&&n(e?.webkitSetPresentationMode)}async function O(){const e=document.createElement("video");return e.volume=.5,await m(0),e.volume===.5}function T(){return window?.ManagedMediaSource??window?.MediaSource??window?.WebKitMediaSource}function _(){return window?.SourceBuffer??window?.WebKitSourceBuffer}function s(){const e=T();if(i(e))return!1;const t=e&&n(e.isTypeSupported)&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=_(),S=i(o)||!i(o.prototype)&&n(o.prototype.appendBuffer)&&n(o.prototype.remove);return!!t&&!!S}function h(){return s()}const A=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,D=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp4","audio/webm","audio/flac"]),H=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,M=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),N=/\.(m3u8)($|\?)/i,V=/\.(mpd)($|\?)/i,x=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),k=new Set(["application/dash+xml"]);function p({src:e,type:t}){return a(e)?A.test(e)||D.has(t)||e.startsWith("blob:")&&t==="audio/object":t==="audio/object"}function d(e){return a(e.src)?H.test(e.src)||M.has(e.type)||e.src.startsWith("blob:")&&e.type==="video/object"||r(e)&&u():e.type==="video/object"}function r({src:e,type:t}){return a(e)&&N.test(e)||x.has(t)}function L({src:e,type:t}){return a(e)&&V.test(e)||k.has(t)}function U(e){return a(e.src)&&(p(e)||d(e)||r(e))}function j(e){return typeof window.MediaStream<"u"&&e instanceof window.MediaStream}export{w as I,c as a,U as b,v as c,O as d,f as e,y as f,d as g,I as h,p as i,h as j,L as k,s as l,r as m,b as n,P as o,u as p,g as q,j as r};
